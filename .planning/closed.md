## 조치된 이슈


### 변경 감지
1) 변경 감지 로직 동작 안함 - [x]
    - '폴더 추가' 버튼으로 인덱싱 완료 후 해당 폴더에 파일을 추가/삭제해도 변경 감지 로직이 동작하지 않음.
        --> 해당 폴더 내 삭제된 파일도 여전히 검색되고, 수정하거나 새로 추가한 파일은 변경된 내용으로 검색되지 않음.
    - '파일 - 설정 - 폴더 관리' 메뉴에서 추가된 폴더 목록이 확인되지 않음
    
2) 파일 감지 조건 수정
    - [x] 실제 데이터 수정이 일어난 경우에만 큐에 추가되도록 수정. 현재 단순 파일 엑세스 만으로도 큐에 추가되서 태그 중복 생성 등 불필요한 작업이 발생 함.
    - [x] 신규 생성 감지 이후 첫 번째 엑세스(단순 read) 에 경우에도 큐에 추가 되고있음. 단순 read에 대해서는 큐에 추가되지 않도록 수정 필요.


### GUI
1) '폴더 추가' 버튼을 눌러 인덱싱 시작시 GUI가 블로킹 됨 - [x] 
    - 인덱싱 작업은 백그라운드로 처리하고 GUI는 계속 응답 가능한 상태로 두어 인덱싱과 동시에 검색을 수행 할 수 있어야 함.
    - 하단에 상태표시줄을 하나 더 두어 인덱싱 작업 상황을 표시해야함. (진행 중임을 알 수 있는 간단한 애니메이션, 현재 작업중인 파일, 진행률, 남은 시간등)

2) 최초 실행 시 다운로드, 문서, 사진 폴더는 자동 인덱싱 되어야 함. 단, 인덱싱 수행 전 알림창을 띄워 화면에서 '예', '아니오' 버튼을 제공해야하고, '예' 버튼을 눌렀을 시에만 해당 폴더들에 대한 인덱싱을 시작해야함. - [x] 

3) 설정메뉴에 들어가는 방법이 안보임. - [x]
    - 상단에 메뉴바가 있던가 사이드 메뉴바를 만들던가 해서 설정메뉴에 들어갈 수 있어야 함.
    - 설정 메뉴를 통해 등록된 폴더, 태그, LLM 설정 등을 들어갈 수 있어야 함.

4) 인덱싱이 완료된 파일에 대해 검색이 안됨 - [x]
    - 인덱싱 완료 후 파일을 검색해도 아무 것도 나오지 않음.
    - 벡터 데이터베이스 관련된 파일 및 데이터가 생성되지 않는 것으로 보임.
    - SQLite DB에는 인덱싱 완료된 건에 대해 레코드 추가 되는 것을 확인하였음.

5) 추가 다이얼로그 창 등의 가시성 문제 - [x]
    - 메인 윈도우는 괜찮은데 그 외 창의 경우 배경 윈도우는 하얀색인데 글씨도 하얀색이라 가시성이 좋지 않음. 통일성 있는 테마 적용이 필요함.

6) 폴더 추가 기능 로직 동작 안함 - [x]
    - '파일 - 설정 - 폴더 관리' 메뉴의 '추가' 버튼을 누르면 폴더 선택 창이 뜨면서 폴더를 선택할 수 있어야 하나 버튼으로 눌러도 동작 없음.




## 기능 추가/개선

### 검색 결과 UI 개선
1) 검색 결과의 view 방식을 두가지로 제공 (목록형, 아이콘형) 하도록 개선. - [x]
    - 검색 결과 출력창 바로 위에 view 선택 아이콘 추가하여 검색 결과의 보기 방식을 변경할 수 있도록 함.
    - 목록형: 아이콘, 파일명, 수정일, 태그, 경로 등을 한줄로 표시.(윈도우 파일 탐색기의 '자세히' 모드와 유사하게)
    - 아이콘형: 파일 아이콘과 파일명을 표시. 아이콘을 격자형으로 배치.(윈도우 파일 탐색기의 '보통 아이콘' 모드와 유사하게) 

2) 검색 결과의 각 항목을 1번 클릭(더블클릭 아님) 하는 경우 우측에 파일 세부 정보 창 출력 - [x]
    - 세부 정보에는 아이콘, 파일명, 파일 경로, 수정일, 태그 목록 출력 필수.

3) 검색 결과의 각 항목을 더블 클릭 하는 경우 해당 파일 실행(windows 시스템의 기본 연결 프로그램 설정 사용) - [x]

4) 검색 결과의 각 항목에 마우스 커서를 올릴 경우 보기 방식에 따라 hover 이벤트 처리 - [x]
    - 목록형: 해당 항목의 오른쪽 끝에 아이콘 두개 생성.
        - 폴더 아이콘 : 해당 파일이 속한 폴더를 윈도우 탐색기에서 열기
        - 점 세개 아이콘 : 해당 파일에 대한 추가 메뉴 표시. (메뉴 내용: 태그 관리, 파일 삭제, 파일 정보 보기)
    - 아이콘형: 배경색이 변하면서 하이라이팅 효과를 추가하고 해당 항목의 아래에 아이콘 두개 생성.
        - 폴더 아이콘 : 해당 파일이 속한 폴더를 윈도우 탐색기에서 열기
        - 점 세개 아이콘 : 해당 파일에 대한 추가 메뉴 표시. (메뉴 내용: 태그 관리, 파일 삭제, 파일 정보 보기)

### 검색 창 UI 개선
1) 메인 검색어 입력창 왼쪽에 검색 모드 선택을 위한 드롭박스 추가(디폴트는 '통합 검색') - [x]
    - 통합 검색
    - 텍스트 검색
    - 이미지 검색
    - 태그 검색
2) 메인 검색어 입력창 오른쪽에 확장자 필터 입력창 추가(디폴트는 공백, 공백일 경우 모든 확장자 검색) - [x]
    - 콤마(,)로 구분하여 여러 확장자를 입력할 수 있음. 예: txt, md, py, pdf, docx
    - 입력창 우측에 'x' 버튼을 추가하여 입력된 확장자 필터를 초기화 할 수 있어야 함.

3) 보기모드 선택 버튼 개선
    - [x] 목록형 / 아이콘형 두개의 보기 모드 변경 버튼을 아이콘으로 변경
    - [x] 배치를 검색 모드 드롭다운 아래, 검색 결과창 위 좌측 상단에 배치
    - [x] 어떤 모드인지 직관적으로 알 수 있는 디자인의 아이콘 이미지는 직접 생성해서 적용.

4) 대기열 버튼 / 팝업 개선
    - [x] 대기열 혹은 '큐'를 직관적으로 이해하기 쉬운 아이콘 이미지를 생성해서 해당 아이콘을 버튼으로 교체.
    - [x] 대기열에 몇개 있는지는 모바일 앱의 알림뱃지 처럼 버튼 우측 상단에 숫자로 표시.
    - [x] 대기열 버튼 시 나타나는 팝업에는 제목 표시줄 제거.(닫기버튼 만 보이도록 개선)

5) 검색 결과에 표시되는 파일 아이콘이 시스템의 기본 아이콘이 출력 되도록 수정 - [x]

### LLM 어댑터 개선
- [x] OpenAI 어댑터의 경우 base_url을 설정할 수 있도록 수정(설정 메뉴의 UI 수정 포함)
- [x] Ollama 어댑터의 경우 base_url을 설정할 수 있도록 수정(설정 메뉴의 UI 수정 포함)

### 파일 인덱싱 기능 개선
1) 기본적으로 watchdog 감지 속도와 임베딩을 포함한 인덱싱 속도가 매우 느리므로 인덱싱 처리 방식을 단순 순차 처리가 아닌 우선순위 큐를 인덱싱 작업 큐로 사용하고, 처리 목록을 직접적인 파일 경로나 파일 객체가 아닌 큐아이템이라는 단위로 추상화하여 인덱싱을 처리하는 것을 제안 - [x]
    (큐 처리 방식 컨셉)
    - '파일 - 설정 - 폴더 관리'에서 신규 폴더를 추가하거나 기존 폴더 내 신규 파일이 감지된 경우에는 작업 큐에 'update' 상태의 큐 아이템을 추가
    - '파일 - 설정 - 폴더 관리'에서 대상 폴더를 삭제하거나 기존 폴더 내 삭제된 파일이 감지된 경우에는 작업 큐에 'delete' 상태의 큐 아이템을 추가
    - 기본적으로 'delete'상태 아이템이 'update'상태 아이템 보다 우선순위가 높음.
    - 동일한 파일에 대해 같은 상태의 큐 아이템이 여러 개가 큐에 쌓여있을 경우 가장 마지막에 추가된 큐 아이템만 남기고 나머지는 삭제.
    - 'update' 상태의 아이템을 처리하는 도중 같은 파일에 대한 'delete' 상태의 아이템이 추가될 경우 'update' 상태의 아이템을 처리 중단하고 'delete' 상태의 아이템을 처리.
    - 'update' 상태의 아이템이 큐에 대기 중 같은 파일에 대한 'delete' 상태의 아이템이 추가될 경우 'update' 상태의 아이템을 삭제.
    
    - [x] 누르면 추가 창이 뜨면서 현재 큐에 쌓여있는 큐 아이템 목록을 볼 수 있어야 함.
    - [x] 현재 처리 중인 아이템에는 간단한 스피너 애니메이션과 함께 처리 중임을 표시.
    - [x] 처리 완료 (Priority Queue 및 Worker Thread 구조 적용, UI 상태 표시 추가됨)
    - [x] 추가 보완: 폴더 추가 시 초기 스캔 로직도 비동기 큐 처리로 변경하여 UI 블로킹 완전 제거.

### 태그 기능 개선
1) 태그 자동생성 기능 외부화
    - [x] 현재 설정메뉴 UI만 구현되어있고 연결된 백엔드 로직이 없거나 동작하지 않는 상태로 보임. 저장해도 config.json에 변화 없고, 설정 저장 후 신규 파일 감지시 태그 생성 적용도 안되는 것으로 보임.
    
2) 태그 관리 기능 구현
    - [x] 검색결과 목록에서 점 세개 버튼 눌러서 '태그 관리' 메뉴를 클릭해도 아무 반응 없음.
    - [x] '파일 - 설정 - 태그 관리' 메뉴에 들어가면 태그를 추가/수정하거나 삭제하는 기능에 대한 UI 버튼도 미구현.




### 구글 ai 패키지 이슈
- [x] google-generativeai 패키지에서 google-genai로 교체해야함.